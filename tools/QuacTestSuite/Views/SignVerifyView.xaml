<UserControl x:Class="QuacTestSuite.Views.SignVerifyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1100">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Algorithm Selection -->
        <Border Grid.Row="0" Background="#152232" CornerRadius="12" Padding="20" Margin="0,0,0,24">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Algorithm:" Foreground="White" VerticalAlignment="Center" Margin="0,0,12,0"/>
                    <ComboBox x:Name="CmbAlgorithm" SelectedIndex="0" Width="200" VerticalAlignment="Center">
                        <ComboBoxItem Content="ML-DSA-44 (Dilithium-2)"/>
                        <ComboBoxItem Content="ML-DSA-65 (Dilithium-3)"/>
                        <ComboBoxItem Content="ML-DSA-87 (Dilithium-5)"/>
                        <ComboBoxItem Content="SLH-DSA-128s (SPHINCS+)"/>
                        <ComboBoxItem Content="SLH-DSA-128f (SPHINCS+)"/>
                    </ComboBox>

                    <TextBlock Text="Signing Key:" Foreground="White" VerticalAlignment="Center" Margin="24,0,12,0"/>
                    <ComboBox x:Name="CmbKey" SelectedIndex="0" Width="200" VerticalAlignment="Center">
                        <ComboBoxItem Content="test-signing-key"/>
                        <ComboBoxItem Content="production-signer"/>
                        <ComboBoxItem Content="Generate New..."/>
                    </ComboBox>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Border Background="#0A1628" CornerRadius="8" Padding="12,8">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FileSign" Width="16" Height="16" Foreground="#00D4AA" VerticalAlignment="Center"/>
                            <TextBlock Text="Post-Quantum Secure" Foreground="#00D4AA" FontSize="12" FontWeight="SemiBold" Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Message & Sign Panel -->
            <Border Grid.Column="0" Background="#152232" CornerRadius="12" Padding="24" Margin="0,0,12,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FileDocument" Width="24" Height="24" Foreground="#00D4AA" VerticalAlignment="Center"/>
                            <TextBlock Text="Message to Sign" FontSize="18" FontWeight="SemiBold" Foreground="White" Margin="12,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Click="LoadMessage_Click" Background="Transparent" 
                                    BorderBrush="#5A6C7D" BorderThickness="1" Foreground="#7F8C9A" 
                                    Padding="12,6" Height="Auto" MinHeight="36" Cursor="Hand" Margin="0,0,8,0">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="FolderOpen" Width="16" Height="16" VerticalAlignment="Center"/>
                                    <TextBlock Text="Load" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                            <Button Click="HashMessage_Click" Background="Transparent" 
                                    BorderBrush="#5A6C7D" BorderThickness="1" Foreground="#7F8C9A" 
                                    Padding="12,6" Height="Auto" MinHeight="36" Cursor="Hand">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Pound" Width="16" Height="16" VerticalAlignment="Center"/>
                                    <TextBlock Text="Hash" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <Border Grid.Row="1" Background="#0A1628" CornerRadius="8" Padding="16">
                        <TextBox x:Name="TxtMessage" 
                                 Text="Enter your message here..."
                                 Background="Transparent" BorderThickness="0"
                                 Foreground="White" FontFamily="Consolas" FontSize="13"
                                 AcceptsReturn="True" TextWrapping="Wrap"
                                 VerticalScrollBarVisibility="Auto"/>
                    </Border>

                    <!-- Hash Display -->
                    <Border Grid.Row="2" Background="#0A1628" CornerRadius="8" Padding="12" Margin="0,12,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="SHA3-256:" Foreground="#5A6C7D" FontSize="11" VerticalAlignment="Center"/>
                            <TextBlock x:Name="TxtHash" Grid.Column="1" Text="(not computed)" Foreground="#7F8C9A" 
                                       FontFamily="Consolas" FontSize="11" Margin="8,0,0,0" 
                                       TextTrimming="CharacterEllipsis" VerticalAlignment="Center"/>
                        </Grid>
                    </Border>

                    <Button Grid.Row="3" x:Name="BtnSign" Click="Sign_Click" Margin="0,16,0,0"
                            Background="#00D4AA" Foreground="#0A1628" FontWeight="SemiBold" 
                            Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Draw" Width="20" Height="20" VerticalAlignment="Center"/>
                            <TextBlock Text="Sign Message" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>

            <!-- Signature & Verify Panel -->
            <Border Grid.Column="1" Background="#152232" CornerRadius="12" Padding="24" Margin="12,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FileSign" Width="24" Height="24" Foreground="#FFB800" VerticalAlignment="Center"/>
                            <TextBlock Text="Digital Signature" FontSize="18" FontWeight="SemiBold" Foreground="White" Margin="12,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Click="CopySignature_Click" Background="Transparent" 
                                    BorderBrush="#5A6C7D" BorderThickness="1" Foreground="#7F8C9A" 
                                    Padding="8,6" Height="Auto" MinHeight="36" Cursor="Hand" Margin="0,0,8,0">
                                <materialDesign:PackIcon Kind="ContentCopy" Width="16" Height="16"/>
                            </Button>
                            <Button Click="SaveSignature_Click" Background="Transparent" 
                                    BorderBrush="#5A6C7D" BorderThickness="1" Foreground="#7F8C9A" 
                                    Padding="12,6" Height="Auto" MinHeight="36" Cursor="Hand">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="ContentSave" Width="16" Height="16" VerticalAlignment="Center"/>
                                    <TextBlock Text="Save" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <Border Grid.Row="1" Background="#0A1628" CornerRadius="8" Padding="16">
                        <TextBox x:Name="TxtSignature" 
                                 Text=""
                                 Background="Transparent" BorderThickness="0"
                                 Foreground="#FFB800" FontFamily="Consolas" FontSize="13"
                                 AcceptsReturn="True" TextWrapping="Wrap"
                                 VerticalScrollBarVisibility="Auto"/>
                    </Border>

                    <!-- Signature Stats -->
                    <Border Grid.Row="2" Background="#0A1628" CornerRadius="8" Padding="12" Margin="0,12,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="SIZE" Foreground="#5A6C7D" FontSize="10" FontWeight="SemiBold"/>
                                <TextBlock x:Name="TxtSigSize" Text="--" Foreground="White" FontSize="14" FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="SIGN TIME" Foreground="#5A6C7D" FontSize="10" FontWeight="SemiBold"/>
                                <TextBlock x:Name="TxtSignTime" Text="--" Foreground="#00D4AA" FontSize="14" FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Grid.Column="2">
                                <TextBlock Text="VERIFY TIME" Foreground="#5A6C7D" FontSize="10" FontWeight="SemiBold"/>
                                <TextBlock x:Name="TxtVerifyTime" Text="--" Foreground="#00B4D8" FontSize="14" FontWeight="SemiBold"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Grid Grid.Row="3" Margin="0,16,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Button Grid.Column="0" x:Name="BtnVerify" Click="Verify_Click" Margin="0,0,8,0"
                                Background="#00B4D8" Foreground="#0A1628" FontWeight="SemiBold" 
                                Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="CheckCircle" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Verify" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Grid.Column="1" Click="LoadSignature_Click" Margin="8,0,0,0"
                                Background="Transparent" BorderBrush="#5A6C7D" BorderThickness="1" 
                                Foreground="#7F8C9A" Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="FileImport" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Load Sig" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</UserControl>
