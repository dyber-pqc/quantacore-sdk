<UserControl x:Class="QuacTestSuite.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="0">
            
            <!-- Stats Cards Row -->
            <WrapPanel Margin="0,0,0,24">
                
                <!-- Operations Per Second -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="220" MaxWidth="280">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Flash" Foreground="#00D4AA" Width="24" Height="24"/>
                            <TextBlock Text="OPS/SEC" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock x:Name="OpsPerSecText" Text="125,432" FontSize="32" FontWeight="Bold" Foreground="White"/>
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <materialDesign:PackIcon Kind="TrendingUp" Foreground="#2ED573" Width="16" Height="16"/>
                            <TextBlock Text="+5.2%" Foreground="#2ED573" FontSize="12" Margin="4,0,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Temperature -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="220" MaxWidth="280">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Thermometer" Foreground="#FFB800" Width="24" Height="24"/>
                            <TextBlock Text="TEMPERATURE" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="TempText" Text="42" FontSize="32" FontWeight="Bold" Foreground="White"/>
                            <TextBlock Text="Â°C" FontSize="16" Foreground="#808080" VerticalAlignment="Bottom" Margin="4,0,0,8"/>
                        </StackPanel>
                        <ProgressBar x:Name="TempProgress" Value="42" Maximum="100" Height="6" Background="#1A2D42" Foreground="#00D4AA" Margin="0,12,0,0"/>
                    </StackPanel>
                </Border>

                <!-- QRNG Output -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="220" MaxWidth="280">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Dice6" Foreground="#00B4D8" Width="24" Height="24"/>
                            <TextBlock Text="QRNG OUTPUT" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="QrngSpeedText" Text="128.5" FontSize="32" FontWeight="Bold" Foreground="White"/>
                            <TextBlock Text="MB/s" FontSize="14" Foreground="#808080" VerticalAlignment="Bottom" Margin="4,0,0,8"/>
                        </StackPanel>
                        <TextBlock x:Name="QrngTotalText" Text="Total: 1,234,567 bytes" FontSize="11" Foreground="#606060" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Device Health -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,0,16" MinWidth="220" MaxWidth="280">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="HeartPulse" Foreground="#2ED573" Width="24" Height="24"/>
                            <TextBlock Text="HEALTH" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock x:Name="HealthText" Text="Healthy" FontSize="32" FontWeight="Bold" Foreground="#2ED573"/>
                        <TextBlock x:Name="UptimeText" Text="Uptime: 0h 0m" FontSize="11" Foreground="#606060" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>
            </WrapPanel>

            <!-- Quick Actions -->
            <Border Background="#152232" CornerRadius="12" Padding="24" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Quick Actions" FontSize="18" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,20"/>
                    <WrapPanel>
                        <Button x:Name="BtnQuickBenchmark" Click="QuickBenchmark_Click" Margin="0,0,12,12" 
                                Background="Transparent" BorderBrush="#00D4AA" BorderThickness="1" 
                                Foreground="#00D4AA" Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Play" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Quick Benchmark" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="BtnGenerateRandom" Click="GenerateRandom_Click" Margin="0,0,12,12"
                                Background="Transparent" BorderBrush="#00D4AA" BorderThickness="1" 
                                Foreground="#00D4AA" Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Dice6" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Generate 1MB Random" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="BtnSelfTest" Click="SelfTest_Click" Margin="0,0,12,12"
                                Background="Transparent" BorderBrush="#00D4AA" BorderThickness="1" 
                                Foreground="#00D4AA" Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="CheckCircle" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Run Self-Test" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="BtnResetDevice" Click="ResetDevice_Click" Margin="0,0,0,12"
                                Background="Transparent" BorderBrush="#FF4757" BorderThickness="1" 
                                Foreground="#FF4757" Padding="20,12" Height="Auto" MinHeight="48" Cursor="Hand">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Restart" Width="20" Height="20" VerticalAlignment="Center"/>
                                <TextBlock Text="Reset Device" Margin="10,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </WrapPanel>
                </StackPanel>
            </Border>

            <!-- Device Info Panel -->
            <Border Background="#152232" CornerRadius="12" Padding="24" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Device Information" FontSize="18" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,20"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Model: QUAC 100" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock Text="Serial: QC-2025-001234" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock Text="Firmware: v1.0.2" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock Text="SDK Version: v1.0.0" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Driver: v1.0.0" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock Text="PCIe: Gen4 x16 (64 GT/s)" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock Text="DMA Channels: 4 active" Foreground="#B0B0B0" FontSize="14" Margin="0,6"/>
                            <TextBlock x:Name="StatusText" Text="Status: Connected" Foreground="#2ED573" FontSize="14" Margin="0,6"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Activity Log -->
            <Border Background="#152232" CornerRadius="12" Padding="24">
                <StackPanel>
                    <Grid Margin="0,0,0,16">
                        <TextBlock Text="Recent Activity" FontSize="18" FontWeight="SemiBold" Foreground="White"/>
                        <Button x:Name="BtnClearLog" Click="ClearLog_Click" HorizontalAlignment="Right"
                                Background="Transparent" BorderBrush="#5A6C7D" BorderThickness="1" 
                                Foreground="#7F8C9A" Padding="12,6" Cursor="Hand" Content="Clear"/>
                    </Grid>
                    <ListBox x:Name="ActivityLog" Background="Transparent" BorderThickness="0" MaxHeight="200"
                             ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding Time}" Foreground="#606060" FontSize="12"/>
                                    <Border Grid.Column="1" Background="{Binding Color}" CornerRadius="3" Padding="8,3" Margin="8,0">
                                        <TextBlock Text="{Binding Type}" FontSize="10" Foreground="#0A1628" FontWeight="SemiBold"/>
                                    </Border>
                                    <TextBlock Grid.Column="2" Text="{Binding Message}" Foreground="#B0B0B0" FontSize="12" TextTrimming="CharacterEllipsis"/>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
