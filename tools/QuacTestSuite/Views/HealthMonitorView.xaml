<UserControl x:Class="QuacTestSuite.Views.HealthMonitorView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1100">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel>
            <!-- Health Status Cards -->
            <WrapPanel Margin="0,0,0,24">
                
                <!-- Overall Health -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="200">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="HeartPulse" Foreground="#2ED573" Width="24" Height="24"/>
                            <TextBlock Text="OVERALL HEALTH" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Text="Healthy" FontSize="28" FontWeight="Bold" Foreground="#2ED573"/>
                        <TextBlock Text="All systems operational" FontSize="12" Foreground="#808080" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Temperature -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="200">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Thermometer" Foreground="#FFB800" Width="24" Height="24"/>
                            <TextBlock Text="TEMPERATURE" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="42" FontSize="28" FontWeight="Bold" Foreground="White"/>
                            <TextBlock Text="°C" FontSize="16" Foreground="#808080" VerticalAlignment="Bottom" Margin="4,0,0,6"/>
                        </StackPanel>
                        <TextBlock Text="Normal range (35-65°C)" FontSize="12" Foreground="#2ED573" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Power -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,16,16" MinWidth="200">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Flash" Foreground="#00B4D8" Width="24" Height="24"/>
                            <TextBlock Text="POWER CONSUMPTION" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="12.5" FontSize="28" FontWeight="Bold" Foreground="White"/>
                            <TextBlock Text="W" FontSize="16" Foreground="#808080" VerticalAlignment="Bottom" Margin="4,0,0,6"/>
                        </StackPanel>
                        <TextBlock Text="Under TDP limit (25W)" FontSize="12" Foreground="#2ED573" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Uptime -->
                <Border Background="#152232" CornerRadius="8" Padding="20" Margin="0,0,0,16" MinWidth="200">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <materialDesign:PackIcon Kind="Clock" Foreground="#00D4AA" Width="24" Height="24"/>
                            <TextBlock Text="UPTIME" Foreground="#5A6C7D" FontSize="11" FontWeight="SemiBold" 
                                       Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Text="24h 32m" FontSize="28" FontWeight="Bold" Foreground="White"/>
                        <TextBlock Text="Since last device reset" FontSize="12" Foreground="#808080" Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>
            </WrapPanel>

            <!-- Diagnostics Grid -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Self-Test Results -->
                <Border Grid.Column="0" Background="#152232" CornerRadius="12" Padding="24" Margin="0,0,12,0">
                    <StackPanel>
                        <Grid Margin="0,0,0,20">
                            <TextBlock Text="Self-Test Results" FontSize="18" FontWeight="SemiBold" Foreground="White"/>
                            <Button Click="RunTests_Click" HorizontalAlignment="Right"
                                    Background="#00D4AA" Foreground="#0A1628" 
                                    FontWeight="SemiBold" Padding="16,8" Height="Auto" MinHeight="40" Cursor="Hand">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Play" Width="16" Height="16" VerticalAlignment="Center"/>
                                    <TextBlock Text="Run All Tests" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </Grid>
                        
                        <Border Background="#0A1628" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                            <Grid>
                                <StackPanel>
                                    <TextBlock Text="ML-KEM Self-Test" Foreground="White" FontSize="14"/>
                                    <TextBlock Text="Known Answer Test (KAT) verification" Foreground="#5A6C7D" FontSize="11" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="MonobitResult" Text="PASSED" HorizontalAlignment="Right" VerticalAlignment="Center"
                                           Foreground="#2ED573" FontWeight="Bold" FontSize="14"/>
                            </Grid>
                        </Border>
                        
                        <Border Background="#0A1628" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                            <Grid>
                                <StackPanel>
                                    <TextBlock Text="ML-DSA Self-Test" Foreground="White" FontSize="14"/>
                                    <TextBlock Text="Signature generation and verification" Foreground="#5A6C7D" FontSize="11" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="RunsResult" Text="PASSED" HorizontalAlignment="Right" VerticalAlignment="Center"
                                           Foreground="#2ED573" FontWeight="Bold" FontSize="14"/>
                            </Grid>
                        </Border>
                        
                        <Border Background="#0A1628" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                            <Grid>
                                <StackPanel>
                                    <TextBlock Text="QRNG Entropy Test" Foreground="White" FontSize="14"/>
                                    <TextBlock Text="NIST SP 800-90B compliance" Foreground="#5A6C7D" FontSize="11" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="ChiSquareResult" Text="PASSED" HorizontalAlignment="Right" VerticalAlignment="Center"
                                           Foreground="#2ED573" FontWeight="Bold" FontSize="14"/>
                            </Grid>
                        </Border>
                        
                        <Border Background="#0A1628" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                            <Grid>
                                <StackPanel>
                                    <TextBlock Text="Memory Integrity" Foreground="White" FontSize="14"/>
                                    <TextBlock Text="SRAM and register verification" Foreground="#5A6C7D" FontSize="11" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="EntropyTestResult" Text="PASSED" HorizontalAlignment="Right" VerticalAlignment="Center"
                                           Foreground="#2ED573" FontWeight="Bold" FontSize="14"/>
                            </Grid>
                        </Border>
                        
                        <Border Background="#1A2D42" CornerRadius="8" Padding="16">
                            <Grid>
                                <TextBlock Text="Overall FIPS 140-3 Compliance" Foreground="White" FontSize="14" FontWeight="SemiBold"/>
                                <TextBlock x:Name="NISTResult" Text="PASSED" HorizontalAlignment="Right" 
                                           Foreground="#2ED573" FontWeight="Bold" FontSize="16"/>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- Hardware Info -->
                <Border Grid.Column="1" Background="#152232" CornerRadius="12" Padding="24" Margin="12,0,0,0">
                    <StackPanel>
                        <TextBlock Text="Hardware Information" FontSize="18" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,20"/>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Device Model" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="QUAC 100" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Serial Number" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="QC-2025-001234" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="PCIe Link Speed" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="Gen4 x16 (64 GT/s)" Foreground="#00D4AA" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="PCIe Link Width" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="x16 (Target: x16)" Foreground="#2ED573" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="DMA Channels" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="4 active / 4 total" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Interrupt Mode" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="MSI-X (8 vectors)" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="SRAM Size" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="4 MB" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Crypto Engines" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="8 parallel cores" Foreground="White" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Firmware Version" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="v1.0.2 (2025-12-10)" Foreground="#00D4AA" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                        
                        <Grid>
                            <TextBlock Text="Driver Version" Foreground="#7F8C9A" FontSize="13"/>
                            <TextBlock Text="v1.0.0" Foreground="#00D4AA" HorizontalAlignment="Right" FontSize="13"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>
