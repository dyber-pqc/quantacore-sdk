# QUAC 100 Post-Quantum Cryptographic Accelerator - Module Parameters
# /etc/modprobe.d/quac100.conf
#
# This file configures the quac100 kernel module parameters.
# Edit values as needed and reload the module to apply changes.
#
# Reload module: sudo modprobe -r quac100 && sudo modprobe quac100
# View current values: cat /sys/module/quac100/parameters/*

#=============================================================================
# Device Configuration
#=============================================================================

# Maximum number of devices to support (1-16)
# Default: 16
# options quac100 max_devices=16

# Enable device auto-detection on module load
# 0 = disabled, 1 = enabled (default)
# options quac100 auto_detect=1

# Enable hardware self-test on device initialization
# 0 = disabled, 1 = enabled (default)
# options quac100 self_test=1

#=============================================================================
# DMA Configuration
#=============================================================================

# DMA ring buffer size (number of descriptors per ring)
# Must be a power of 2, range: 64-4096
# Default: 256
# options quac100 dma_ring_size=256

# Maximum DMA transfer size in bytes
# Default: 16777216 (16 MiB)
# options quac100 dma_max_transfer=16777216

# Use coherent DMA memory for descriptors
# 0 = streaming DMA, 1 = coherent DMA (default)
# options quac100 dma_coherent=1

# DMA timeout in milliseconds
# Default: 5000 (5 seconds)
# options quac100 dma_timeout_ms=5000

#=============================================================================
# Interrupt Configuration
#=============================================================================

# Number of MSI-X vectors to request (0 = auto)
# Range: 0-32
# Default: 0 (auto-detect based on CPU cores)
# options quac100 msix_vectors=0

# Enable interrupt coalescing
# 0 = disabled, 1 = enabled (default)
# options quac100 irq_coalesce=1

# Interrupt coalescing timeout in microseconds
# Default: 50
# options quac100 irq_coalesce_timeout_us=50

# Interrupt coalescing threshold (number of completions)
# Default: 16
# options quac100 irq_coalesce_count=16

#=============================================================================
# Cryptographic Engine Configuration
#=============================================================================

# Enable FIPS 140-3 mode
# 0 = disabled (default), 1 = enabled
# WARNING: FIPS mode restricts some operations
# options quac100 fips_mode=0

# Enable continuous QRNG health testing
# 0 = disabled, 1 = enabled (default)
# options quac100 qrng_health_test=1

# QRNG entropy pool low watermark (bits)
# Default: 4096
# options quac100 entropy_low_watermark=4096

# Maximum pending async jobs per device
# Default: 4096
# options quac100 max_pending_jobs=4096

#=============================================================================
# Performance Tuning
#=============================================================================

# Enable hardware acceleration for all supported algorithms
# 0 = software fallback, 1 = hardware (default)
# options quac100 hw_accel=1

# Worker thread count for async operations (0 = auto)
# Default: 0 (one thread per CPU core)
# options quac100 worker_threads=0

# Enable batch operation optimization
# 0 = disabled, 1 = enabled (default)
# options quac100 batch_optimize=1

# Maximum batch size
# Default: 1024
# options quac100 max_batch_size=1024

#=============================================================================
# SR-IOV Configuration
#=============================================================================

# Number of Virtual Functions to enable (0 = disabled)
# Range: 0-16
# Default: 0
# options quac100 num_vfs=0

# VF resource allocation mode
# 0 = equal distribution, 1 = proportional (default)
# options quac100 vf_resource_mode=1

#=============================================================================
# Debug Configuration
#=============================================================================

# Debug verbosity level
# 0 = errors only
# 1 = warnings
# 2 = info (default)
# 3 = debug
# 4 = trace (verbose)
# options quac100 debug_level=2

# Enable debug register dumps on errors
# 0 = disabled (default), 1 = enabled
# options quac100 debug_dump=0

# Enable performance counters
# 0 = disabled, 1 = enabled (default)
# options quac100 perf_counters=1

#=============================================================================
# Power Management
#=============================================================================

# Enable runtime power management
# 0 = disabled, 1 = enabled (default)
# options quac100 runtime_pm=1

# Runtime PM idle timeout in seconds
# Default: 30
# options quac100 pm_idle_timeout=30

# Enable PCIe ASPM (Active State Power Management)
# 0 = disabled, 1 = enabled (default)
# options quac100 aspm_enable=1

#=============================================================================
# Temperature Monitoring
#=============================================================================

# Temperature warning threshold in Celsius
# Default: 85
# options quac100 temp_warn_threshold=85

# Temperature critical threshold in Celsius
# Default: 95
# options quac100 temp_crit_threshold=95

# Enable thermal throttling
# 0 = disabled, 1 = enabled (default)
# options quac100 thermal_throttle=1

#=============================================================================
# Example Configurations
#=============================================================================

# High-performance server configuration:
# options quac100 msix_vectors=32 dma_ring_size=4096 max_pending_jobs=8192 batch_optimize=1

# Low-power embedded configuration:
# options quac100 msix_vectors=4 dma_ring_size=64 runtime_pm=1 pm_idle_timeout=10

# FIPS-compliant configuration:
# options quac100 fips_mode=1 qrng_health_test=1 self_test=1

# Development/debugging configuration:
# options quac100 debug_level=4 debug_dump=1 perf_counters=1

# Virtualization host configuration:
# options quac100 num_vfs=8 vf_resource_mode=1 max_pending_jobs=16384

#=============================================================================
# Blacklist Configuration (if needed)
#=============================================================================

# Uncomment to prevent automatic module loading
# blacklist quac100

# Prevent specific conflicting modules from loading
# blacklist conflicting_module

#=============================================================================
# Alias Configuration
#=============================================================================

# PCI device aliases (automatically generated, do not modify)
# alias pci:v00001DYBd00000100sv*sd*bc10sc80i* quac100
